name: Build and Deploy
on:
    workflow_dispatch:
    push:
        branches:
        - 'main'
jobs:
    build-and-deploy:
        runs-on: ubuntu-latest
        defaults:
            run:
                working-directory: ./the incremental rewrite again i think
        steps:
        - name: Set Node.js version
            uses: actions/setup-node@v3
            with:
            node-version: 16.x

        - name: Checkout ğŸ›ï¸
            uses: actions/checkout@v2

        - name: Install and Build ğŸ”§
            run: |

            yarn install --frozen-lockfile
            yarn run build

        - name: Deploy ğŸš€
            uses: JamesIves/github-pages-deploy-action@v4.2.5
            with:
                    branch: gh-pages # The branch the action should deploy to.
                    folder: dist # The build directory the action should deploy.